<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Practical Data Science with Python</title>
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
<link rel="stylesheet" href="dist/theme/pdsp.css" id="theme">
		<!-- Theme used for syntax highlighted code -->
<link rel="stylesheet" href="plugin/highlight/zenburn.min.css" id="highlight-theme"></head>
	<body>
		<div class="reveal">
			<div class="slides">
<section data-markdown  ><textarea data-template>

### Practical Data Science with Python
# 4. Loading and Wrangling Data with pandas and NumPy 

</textarea></section>
<section data-markdown  ><textarea data-template>

## CSV (comma separated values)

```
employee_id,gender,height,waist,salary,dob,death
4782566,m,1.82,1.11,74917.00,1961-11-18,1986-10-21
1427930,m,1.73,1.11,63012.00,1946-03-18,1972-09-13
8880433,f,1.68,0.93,86437.00,1978-08-14,2012-08-09
```
### Read in data frame
```
import pandas as pd
df = pd.read_csv('employees.csv', index_col='employee_id')
```
### Show the shape of the dataframe
```
(row_count, col_count) = df.shape
print(f"Rows: {row_count}") # Shows 6!
print(f"Columns: {col_count}")
```
</textarea></section>
<section data-markdown  ><textarea data-template>

## pandas supported file types
- CSV
- Excel
- JSON
- XML
- HTML
- HDF5
- SQL databases
</textarea></section>
<section data-markdown  ><textarea data-template>

## Series

### Get column as a Series
```
salary_series = df['salary']
salary_series.mean()
```

### Get row as series:
```
an_employee = df.loc[4782566]
first_employee = df.iloc[0]
```
</textarea></section>
<section data-markdown  ><textarea data-template>

# pandas demo!

</textarea></section>
<section data-markdown  ><textarea data-template>
 
 
## When data is too big (1)

### Work with just the columns you need
```
df = pd.read_csv('e.csv', index_col='employee_id', 
                  usecols=['waist', 'height'])
```

### No pandas – process one row at a time:
```
import csv

with open('e.csv', 'r') as csv_file:
    csv_reader = csv.reader(csv_file) 
    
    next(csvreader)
    for row in csv_reader:
		…
```

</textarea></section>
<section data-markdown  ><textarea data-template>


## When data is too big (2)


### Use indexed files (SQL, HDF5). 
```
# Read just the rows you need:
df = pd.read_hdf('my.h5', 'results_table', where='age < 18')
```
</textarea></section>
<section data-markdown  ><textarea data-template>

## NumPy?

- n-dimensional arrays of numbers
- Common linear algebra and statistics functions
- Very fast (for Python)
- Data representation for scikit-learn and pandas
- Can use GPU

```
import numpy as np
mymatrix = np.array([[1, 2, 3], [3, 4, 5]])
myshape = mymatrix.shape # (2,3)
mytype = mymatrix.dtype  # int64
```

</textarea></section>
<section data-markdown  ><textarea data-template>

## pandas dataframe has np array

```
import pandas as pd
import numpy as np


df = pandas.whatever() # Make a dataframe
a = df.values
```
</textarea></section>
<section data-markdown  ><textarea data-template>

## Handy numpy methods

```
p = myarray[0, 2]      # indexing
q = myarray[1:, 1:]    # grabbing slices
r = myarray[-1, -1]    # -1 means "last"
t = myarray.T          # transpose
```

</textarea></section>
<section data-markdown ><textarea data-template>


# Questions?

</textarea></section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
Reveal.initialize({
controls : false,
markdown : {smartypants: true},
				hash: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ]
			});
		</script>
	</body>
</html>
